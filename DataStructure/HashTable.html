<!DOCTYPE html>
<html>
<style>
</style>

<body>
  <h1> JavaScript HashTable: </h1>
  <br>
  <script>

    //let values = {'hash1': {'first', 1}}
    // this.values.hasOwnPropery('hash1')
    // this.values['hash1'].hasOwnPropety('frist')

    function HashTable(size) {
      this.values = {}
      this.numberOfValues = 0
      this.size = size
    }

    HashTable.prototype.add = function (key, value) {
      let hash = this.calculateHash(key)
      if (!this.values.hasOwnProperty(hash)) {
        this.values[hash] = {}
      }
      if (!this.values[hash].hasOwnProperty(key)) {
        this.numberOfValues++
      }
      this.values[hash][key] = value
    }

    HashTable.prototype.remove = function (key) {
      let hash = this.calculateHash(key)
      if (this.values.hasOwnProperty(hash) &&
        this.values[hash].hasOwnProperty(key)) {
        console.log(this.values[hash])
        delete this.values[hash]
        this.numberOfValues--
      }
    }

    HashTable.prototype.calculateHash = function (key) {
      return key.toString().length % this.size
    }

    HashTable.prototype.search = function (key) {
      let hash = this.calculateHash(key)
      if (this.values.hasOwnProperty(hash) && this.values[hash].hasOwnProperty(key)) {
        return this.values[hash][key]
      }
      return null
    }

    HashTable.prototype.length = function () {
      return this.numberOfValues
    }

    HashTable.prototype.print = function () {
      let string = ''
      for (let value in this.values) {
        for (let key in this.values[value]) {
          string += value + ': {' + key + ':' + this.values[value][key] + '}, '
        }
      }
      return string.trim()
    }

    let hb = new HashTable(2);
    hb.add('first', 1)
    hb.add('second', 2)
    //hb.remove('first')
    console.log(hb.search('second'))
    console.log(hb.length())
    console.log(hb.print())  
  </script>
</body>

</html>